# 振り返り

このファイルで毎日の振り返りを行います。追記専用です。過去の内容を修正しないでください。

## スクラム01 の振り返り
<!-- KPT法で振り返りを行なってください -->

### Keep
<!-- うまく行ったこと、続けていきたいこと -->
- 既存のtestCases配列形式を尊重し、統合する形でテストケースを拡充できた
- 重複テストケースを適切に識別し、17個から12個に統廃合して保守性を向上させた
- 各段階でテストを実行し、品質を確保しながら作業を進められた
- ユーザーからのフィードバックを受けて迅速に修正・改善を行えた
- テストカバレッジを維持しながらコードの重複を排除できた

### Problem
<!-- 問題点、苦労したこと、レビューで指摘を受けたこと -->
- 最初に既存のtestCases配列形式を見落とし、独自の形式でテストを作成してしまった
- 重複テストケースの存在に最初の段階で気づけず、後から統廃合が必要になった
- jsdom環境特有の制約（DOMParserとisEqualNodeの問題）により、一時的な回避策が必要だった
- レビューで重複指摘を受けるまで、テストケースの重複を見逃していた

### Try
<!-- 次回やってみたいこと -->
<!-- タスクベースではなく、行動ルールとして記載してください。 -->
- 既存コードの形式や構造を事前により詳細に調査してから実装を開始する
- テストケース作成前に重複可能性を事前にチェックし、統合を意識して設計する
- テスト環境の制約や特殊事情を事前に把握し、適切な実装方針を立てる
- コードレビュー依頼前に自分でもコードの重複や改善点を再確認する

---

## スクラム02回目 (2025/07/13)

### Keep (良かったこと・続けたいこと)
- 値オブジェクトを導入したことで、プリミティブな文字列が持っていた暗黙的な責務（HTMLであること、タグ名であること）が明確になった。
- `HtmlString`と`TagName`の単体テストを先に作成したことで、安心して`HtmlReplacer`のリファクタリングを進められた。
- レビューコメントに対して迅速に対応し、コードの品質を向上させることができた。
- `TagName.isTableRelated`のようなヘルパーメソッドを値オブジェクトに持たせることで、ロジックの凝集度を高め、ネストを浅くできた。

### Problem (問題点・苦労したこと・レビューで指摘を受けたこと)
- `HtmlReplacer`で`HtmlString`を導入した際、不正なHTML文字列が渡された場合のテストケースで例外が発生し、既存のテストが失敗した。これは`HtmlString`のバリデーションが厳しくなったためだが、`HtmlReplacer`側で適切にハンドリングする必要があった。
- `HtmlString.ts`の`toDomNode`メソッドのネストが深いというレビュー指摘を受け、メソッド抽出と早期リターンで修正するのに時間がかかった。
- `TextReplacer.ts`の変更がIssue範囲外であるという指摘を受け、元の状態に戻す必要があった。

### Try (次回やってみたいこと)
- 新しい値オブジェクトを導入する際は、既存のコードベースとの整合性をより慎重に検討し、影響範囲を事前に把握する。
- 複雑なロジックを持つメソッドをリファクタリングする際は、小さなプライベートメソッドに分割することを初期段階から意識する。
- 複数のクラスにまたがる変更を行う際は、各クラスの責務をより明確に定義し、依存関係を最小限に抑える設計を心がける。
- Issueのスコープを常に意識し、範囲外の変更は行わないように徹底する。

---

## スクラムkk の振り返り
<!-- KPT法で振り返りを行なってください -->

### Keep
<!-- うまく行ったこと、続けていきたいこと -->

### Problem
<!-- 問題点、苦労したこと、レビューで指摘を受けたこと -->

### Try
<!-- 次回やってみたいこと -->
<!-- タスクベースではなく、行動ルールとして記載してください。 -->

---

## スクラムkk の振り返り
<!-- KPT法で振り返りを行なってください -->

### Keep
<!-- うまく行ったこと、続けていきたいこと -->

### Problem
<!-- 問題点、苦労したこと、レビューで指摘を受けたこと -->

### Try
<!-- 次回やってみたいこと -->
<!-- タスクベースではなく、行動ルールとして記載してください。 -->
