# 振り返り

このファイルでデイリースクラムの振り返りを行います。追記専用です。過去の内容を修正しないでください。
追記のときは最後尾に追加してください。

## スクラム02 の振り返り
<!-- KPT法で振り返りを行なってください -->

### Keep
<!-- うまく行ったこと、続けていきたいこと -->

- Clean Architectureの原則に従い、Domain層に`TabUrl`値オブジェクトを配置してURLフィルタリングロジックを実装できた
- コードレビューを受けて`CanInjectContentScript`を`TabUrl`に統合し、コードの凝集度を高めることができた
- テストファースト開発を実践し、合計13テストケースで網羅的にテストを実施できた
- `make test-and-check`を実行して品質を確認しながら進められた
- リファクタリングによって、`tabUrl.canInjectContentScript()`という直感的で読みやすいAPIになった

### Problem
<!-- 問題点、苦労したこと、レビューで指摘を受けたこと -->

- 初回実装で値オブジェクトの責務分担が最適でなく、レビューで修正が必要になった
  - `CanInjectContentScript`を独立させるよりも`TabUrl`に統合する方が自然だった
- 値オブジェクトの設計において、関連する機能をどこまで1つのクラスに集約すべきかの判断が難しかった
- ThoughtWorks Anthologyの「最大2つのインスタンス変数」ルールと、機能の凝集度のバランスを取る必要があった

### Try
<!-- 次回やってみたいこと -->
<!-- タスクベースではなく、行動ルールとして記載してください。 -->

- 値オブジェクトを設計する際は、「このクラスがどんな責務を持つべきか」を先に考え、関連する機能は最初から同じクラスに配置する
- コードレビュー前に、既存の関連クラスに統合できないか自己レビューする習慣をつける
- Clean Architectureの原則とOOPの原則の両方を満たす設計を最初から意識する

---

## スクラム03 の振り返り
<!-- KPT法で振り返りを行なってください -->

### Keep
<!-- うまく行ったこと、続けていきたいこと -->

- E2Eテストで制限されたURLのエラーハンドリングを網羅的に検証できた
  - about:blank、Chrome Web Store、通常のHTTPページの3パターンをカバー
- コードレビューのフィードバックに対して素早く対応し、テストの品質を段階的に向上できた
  - 01回目: 基本的なE2Eテストの実装
  - 02回目: 外部URL(Chrome Web Store)のテストケース追加
  - 03回目: コンソールエラー検証のアサーション明示化
- `make test-and-check`を継続的に実行し、全テスト合格を維持しながら作業できた
- Playwrightのconsole監視機能を活用し、エラーログの有無を明示的に検証できた

### Problem
<!-- 問題点、苦労したこと、レビューで指摘を受けたこと -->

- 初回実装でコンソールエラー検証のアサーションが不足していた
  - ページの読み込み成功だけでなく、明示的にエラーログがないことを確認する必要があった
- E2Eテストの設計において、何を検証すべきかの要件が最初から完全には明確でなかった
- テストコードの意図が他の開発者に伝わりにくかった（アサーションが暗黙的だった）

### Try
<!-- 次回やってみたいこと -->
<!-- タスクベースではなく、行動ルールとして記載してください。 -->

- E2Eテストを書く際は、成功条件（正常系）だけでなく、異常系や副作用（エラーログなど）も最初から明示的に検証する
- テストの意図を明確にするため、アサーションは暗黙的ではなく明示的に記述する習慣をつける
- 既存の類似テストパターンがある場合は、最初からそのパターンに合わせて実装する
- コードレビュー前に、テストが何を検証しているのか、第三者が読んで理解できるか自己レビューする

---
<!-- ユーザーが使うコマンド workflow-commit-daily-scrum -->
<!-- ユーザーが使うコマンド frog-frame-front/.clinerules/02-workflow-automation/03-daily-scrum-finishes/workflow-commit-daily-scrum-then-start-next-daily-scrum.md -->
<!-- ユーザーが使うコマンド frog-frame-front/.clinerules/02-workflow-automation/03-daily-scrum-finishes/workflow-commit-daily-scrum-then-create-pr.md -->
