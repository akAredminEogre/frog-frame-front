# DAILY SCRUM-02回目

## 本スクラムの作業予定
前回実装した正規表現によるDOM置換機能のE2Eテスト実行と問題の調査・修正を行います。具体的には：

1. **E2Eテストの実行と結果確認**
   - `replace-inside-dom-with-regex.spec.ts`を実行して現在の状況を把握
   - 前回実装した非キャプチャグループ`(?:\\s*)`の効果を確認

2. **複数aタグ問題の調査と修正**
   - E2Eテストで2つのaタグが見つかる問題の原因特定
   - 置換処理が複数回実行される原因の調査
   - 必要に応じてHtmlContent.tsの追加修正

3. **テスト完全通過への対応**
   - 単体テストとE2Eテストの両方を通過させる
   - `test-and-lint`コマンドでのエラー解消

## 修正予定ファイル
- `host-frontend-root/frontend-src-root/tests/e2e/replace-inside-dom-with-regex.spec.ts` (必要に応じて修正)
- `host-frontend-root/frontend-src-root/src/domain/entities/HtmlContent.ts` (追加修正の可能性)

## 相談事項
E2Eテストでの複数aタグ問題について、以下の点で相談があります：

1. **置換処理の重複実行について**：現在の実装で置換処理が複数回実行されている可能性がありますが、これはアプリケーション側の問題なのか、テスト側の問題なのかを判断する必要があります。どちらに原因があると考えられるでしょうか？
  - 確信はありませんが、アプリケーション側の可能性が高いと思います。例えば、置換処理がイベントリスナーなどで複数回トリガーされている可能性があります。

2. **E2Eテストの検証方法について**：複数のaタグが存在する場合、テストではどのaタグを検証すべきでしょうか？最初に見つかったものか、最後に見つかったものか、それとも全てのaタグが正しい形式になっているかを確認すべきでしょうか？
  - 今回のe2eテストのページでは、変換後の形式のaタグは1つだけ存在することが期待されます。したがって、最初に見つかったaタグが正しい形式であることを確認すること、他には条件に合うaタグは存在しないことを確認するのが適切だと思います。

## 一言コメント
前回の実装で基盤は整ったので、今回は実際のテスト結果を見ながら細かい問題を解決していきたいと思います。E2Eテストが通過することで、ユーザーにとって本当に使える機能になるよう頑張ります！
