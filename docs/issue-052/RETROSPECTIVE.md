# 振り返り

このファイルでデイリースクラムの振り返りを行います。追記専用です。過去の内容を修正しないでください。

## スクラム01 の振り返り
<!-- KPT法で振り返りを行なってください -->

### Keep
<!-- うまく行ったこと、続けていきたいこと -->

- 正規表現によるDOM置換機能の実装に成功した
- unitテストを全6項目作成して全て成功させることができた
- 非キャプチャグループ`(?:\s*)`を使用することで、ユーザーのキャプチャグループ番号を保護する実装ができた
- HtmlContent.tsの完全な書き直しを行い、シンプルで確実に動作する実装にできた
- 正規表現でも改行無視のロジックを適用しつつ、ユーザーの意図したパターンを崩さない実装ができた

### Problem
<!-- 問題点、苦労したこと、レビューで指摘を受けたこと -->

- 最初の正規表現エスケープ実装で何度もエラーが発生し、実装に時間がかかった
- `(?:\\\\\\\\s*)`のような複雑なエスケープで混乱し、正規表現の理解不足が露呈した
- E2Eテストで2つのaタグが見つかる問題が残り、完全な解決には至らなかった
- 置換処理が複数回実行される原因の特定ができなかった
- Playwrightブラウザのインストールが必要だったが事前に気づけなかった

### Try
<!-- 次回やってみたいこと -->
<!-- タスクベースではなく、行動ルールとして記載してください。 -->

- 正規表現を扱う実装では、最初に小さなテストケースで動作確認してから本実装に取り掛かる
- エスケープが複雑になる場合は、段階的に実装して各段階で動作確認を行う
- E2Eテストで問題が発生した場合は、まずunitテストで機能の動作を確認してから原因を特定する
- 必要なツールや依存関係は事前に調査して準備しておく
- 複雑な置換ロジックでは、デバッグ用のログ出力を仕込んで問題箇所を特定しやすくする

---
